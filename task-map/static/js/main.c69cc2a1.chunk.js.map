{"version":3,"sources":["component/Point/index.js","component/Add/index.js","component/List/index.js","redux/actions.js","component/RouteList/index.js","redux/actionTypes.js","component/RouteMap/index.js","component/App/index.js","redux/reducers/points.js","redux/reducers/index.js","redux/reducers/center.js","store.js","serviceWorker.js","index.js"],"names":["Point","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleClose","bind","assertThisInitialized","e","onClose","id","react_default","a","createElement","className","text","onClick","description","Component","Add","state","input","handleChange","handleAdd","setState","target","value","onAdd","_this2","onSubmit","preventDefault","onChange","type","List","children","nextRouteId","SortablePoint","SortableElement","SortableList","SortableContainer","RouteList","handleSortEnd","handleRemove","handleAddPoint","oldIndex","_ref","newIndex","replacePoint","removePoint","name","addPoint","coordinates","center","points","map","point","index","key","address","react","component_Add","distance","helperClass","onSortEnd","connect","ownProps","_ref3","RouteMap","handleChangeCenter","handleMovePoints","loadAddress","ymaps","event","changeCenter","get","changePoint","originalEvent","geometry","_coordinates","geocode","then","res","geoObjects","properties","getAll","_this3","BalloonTemplate","react_yandex_maps_umd_production_min","options","draggable","modules","onGeometryChange","onDragEnd","balloonContent","mapState","zoom","line","query","apikey","width","height","onBoundsChange","onLoad","strokeColor","strokeWidth","_ref2","App","component_RouteList","component_RouteMap","getIndexById","i","length","action","concat","toConsumableArray","slice","objectSpread","allReducers","arguments","undefined","removeIndex","rootReducer","combineReducers","store","createStore","Boolean","window","location","hostname","match","ReactDOM","render","es","component_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c69cc2a1.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport './style.css';\r\n\r\nclass Point extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleClose(e){\r\n    this.props.onClose(this.props.id);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <li className=\"Point\">\r\n        <p className=\"Point__Text\">{this.props.text}</p>\r\n        <button onClick={this.handleClose} className=\"Point__Close\"><span /></button>\r\n        <p className=\"Point__Description\">{this.props.description}</p>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nPoint.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  id: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Point;","import React, { Component } from 'react';\r\nimport './style.css';\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nclass Add extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = { input: \"\"};\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleAdd = this.handleAdd.bind(this);\r\n  }\r\n\r\n  handleChange(e){\r\n    this.setState({input: e.target.value})\r\n  }\r\n\r\n  handleAdd(){\r\n    this.props.onAdd(this.state.input)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className = 'Add' onSubmit = {(e) => { e.preventDefault(); this.handleAdd()}}>\r\n        <input className = 'Add__Input' onChange = {this.handleChange} type=\"text\" value = {this.state.input}/>\r\n        <input type = 'submit' className = 'Add__Button' value = 'Add' />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nAdd.propTypes = {\r\n  onAdd: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Add\r\n","import React, { Component } from 'react';\r\nimport './style.css';\r\n\r\nclass List extends Component {\r\n  render() {\r\n    return (\r\n      <ul className=\"List\">\r\n        {this.props.children}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default List;","import { ADD_POINT, REMOVE_POINT, REPLACE_POINT, CHANGE_POINT, CHANGE_CENTER } from \"./actionTypes\";\r\n\r\nlet nextRouteId = 0;\r\n\r\nexport const addPoint = ({name, coordinates, address}) => ({\r\n  type: ADD_POINT,\r\n  id: nextRouteId++ + \"\",\r\n  name: name,\r\n  address: address || '',\r\n  coordinates: coordinates\r\n})\r\n\r\nexport const removePoint = (id) => ({\r\n  type: REMOVE_POINT,\r\n  id: id\r\n})\r\n\r\nexport const changePoint = ({id, name, coordinates, address}) => ({\r\n  type: CHANGE_POINT,\r\n  id: id,\r\n  name: name,\r\n  address: address,\r\n  coordinates: coordinates\r\n})\r\n\r\n\r\nexport const replacePoint = ({oldIndex, newIndex}) => ({\r\n  type: REPLACE_POINT,\r\n  oldIndex: oldIndex,\r\n  newIndex: newIndex\r\n})\r\n\r\nexport const changeCenter = ( coordinates ) => ({\r\n  type: CHANGE_CENTER,\r\n  coordinates: coordinates\r\n})","import React, { Component , Fragment} from 'react';\r\nimport {SortableContainer, SortableElement} from 'react-sortable-hoc';\r\nimport Point from '../Point';\r\nimport Add from '../Add';\r\nimport List from '../List';\r\nimport { connect } from \"react-redux\";\r\nimport { addPoint, removePoint, replacePoint } from '../../redux/actions';\r\n\r\n\r\n\r\nconst SortablePoint = SortableElement(Point);\r\n\r\nconst SortableList = SortableContainer(List);\r\n\r\nclass RouteList extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.handleSortEnd = this.handleSortEnd.bind(this);\r\n    this.handleRemove = this.handleRemove.bind(this);\r\n    this.handleAddPoint = this.handleAddPoint.bind(this);\r\n  }\r\n\r\n  handleSortEnd({oldIndex, newIndex}){\r\n    this.props.replacePoint({oldIndex, newIndex})\r\n  }\r\n\r\n  handleRemove(id){\r\n    this.props.removePoint(id);\r\n  }\r\n\r\n  handleAddPoint(name){\r\n    if( name === \"\"){\r\n      return\r\n    }\r\n\r\n    this.props.addPoint({ name, coordinates: this.props.center});\r\n  }\r\n\r\n  render() {\r\n\r\n    const points = this.props.points.map((point, index)=>{\r\n      return (\r\n        <SortablePoint \r\n          id={point.id}\r\n          index={index}\r\n          key={point.id}\r\n          onClose={this.handleRemove}\r\n          text={point.name}\r\n          description={point.address}\r\n        />\r\n      )\r\n    })\r\n\r\n    return (\r\n      <Fragment>\r\n        <Add onAdd = {this.handleAddPoint} />\r\n        <SortableList distance={1} helperClass=\"Point_focus\" onSortEnd={this.handleSortEnd}>\r\n          {points}\r\n        </SortableList>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const { points, center } = state;\r\n  return { points, center }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { addPoint, removePoint, replacePoint }\r\n)(RouteList)","export const ADD_POINT = \"ADD_POINT\";\r\nexport const REMOVE_POINT = \"REMOVE_POINT\";\r\nexport const REPLACE_POINT = \"REPLACE_POINT\";\r\nexport const CHANGE_POINT = \"CHANGE_POINT\";\r\n\r\nexport const CHANGE_CENTER = \"CHANGE_CENTER\";","import { YMaps, Map, Placemark, GeoObject } from 'react-yandex-maps';\r\nimport \"./style.css\";\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { changeCenter, changePoint } from '../../redux/actions';\r\n\r\nclass RouteMap extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.handleChangeCenter = this.handleChangeCenter.bind(this);\r\n    this.handleMovePoints = this.handleMovePoints.bind(this);\r\n    this.loadAddress = this.loadAddress.bind(this);\r\n    this.state = { ymaps: null};\r\n  }\r\n\r\n  handleChangeCenter(event){\r\n    this.props.changeCenter(event.get(\"newCenter\"))\r\n  }\r\n\r\n  handleMovePoints(event, id){\r\n    this.props.changePoint({ coordinates: event.originalEvent.target.geometry._coordinates, id})\r\n  }\r\n\r\n  loadAddress(coordinates, id){\r\n    let geocoder = this.state.ymaps.geocode(coordinates);\r\n    geocoder.then((res) => {\r\n      this.props.changePoint({id, address: res.geoObjects.get(0).properties.getAll().name})\r\n    })\r\n  }\r\n\r\n  render(){\r\n\r\n    const points = this.props.points.map((point) => {\r\n\r\n      if(!point.address){\r\n        this.loadAddress(point.coordinates, point.id)\r\n      }\r\n\r\n      const BalloonTemplate = '<h5 style = \"margin: 3px; font-weight: 400; font-size: 15px;\">' + point.name + '</h5>' +\r\n        '<p style = \"margin: 3px\">' + ( point.address || 'Загрузка...') + '</p>'\r\n\r\n      return <Placemark \r\n        key = {point.id} \r\n        options = {  {draggable: true} }\r\n        modules = {['geoObject.addon.balloon']}\r\n        geometry = { point.coordinates } \r\n        onGeometryChange = { (event) => { this.handleMovePoints(event, point.id) } }\r\n        onDragEnd = { () => { this.loadAddress(point.coordinates, point.id) } }\r\n        properties = { { balloonContent: BalloonTemplate } }\r\n        />\r\n    })\r\n\r\n    const mapState = {\r\n      center: this.props.center,\r\n      zoom: 9\r\n    }\r\n\r\n    const line = this.props.points.map((point) => {\r\n      return point.coordinates\r\n    })\r\n\r\n    return (\r\n      <YMaps query = { { apikey: 'c2f7ee60-233c-488b-ad4d-d1576e874f91' } }>\r\n        <Map \r\n          width = '100%' \r\n          height = '100%' \r\n          state = { mapState }\r\n          modules = {['geocode']}\r\n          onBoundsChange={this.handleChangeCenter} \r\n          onLoad = { ymaps => this.setState({ymaps}) }\r\n        >\r\n          {points}\r\n          <GeoObject             \r\n            geometry={{\r\n              type: 'LineString',\r\n              coordinates: line\r\n            }}\r\n            options={{\r\n              strokeColor: '#bfedff',\r\n              strokeWidth: 3,\r\n            }}\r\n          />\r\n        </Map>\r\n      </YMaps>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const { points, center } = state;\r\n  return { points, center }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { changeCenter, changePoint }\r\n)(RouteMap)","import React, { Component } from 'react';\nimport './style.css';\nimport RouteList from '../RouteList';\nimport RouteMap from '../RouteMap';\n\n\nclass App extends Component {\n  render() {\n    return (    \n      <div className=\"App\">\n      \t<div className = \"left\">\n      \t\t<RouteList />\n      \t</div>\n      \t<div className = \"right\">\n      \t\t<RouteMap />\n      \t</div>\n      </div>\n    );\n  }\n}\n\n\nexport default App;\n\n//c2f7ee60-233c-488b-ad4d-d1576e874f91\n","import { ADD_POINT, REMOVE_POINT, REPLACE_POINT, CHANGE_POINT } from \"../actionTypes\";\r\n\r\n\r\nconst points = (state = [], action) => {\r\n  switch (action.type) {\r\n\r\n    case ADD_POINT:\r\n      return [\r\n        ...state,\r\n        {\r\n          id: action.id,\r\n          name: action.name,\r\n          address: action.address,\r\n          coordinates: action.coordinates\r\n        }                \r\n      ]\r\n\r\n    case REMOVE_POINT:\r\n      let removeIndex = getIndexById(action.id, state);\r\n      return [\r\n        ...state.slice(0, removeIndex),\r\n        ...state.slice(removeIndex + 1)\r\n      ];\r\n\r\n    case REPLACE_POINT:\r\n      return replacePoint( state, action )\r\n\r\n    case CHANGE_POINT:\r\n      return changePoint( state, action )\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\nexport const getIndexById = (id, points) => {\r\n\r\n  let index;\r\n\r\n  for (var i = 0; i < points.length; i++){\r\n    if(points[i].id === id){\r\n      index = i;\r\n    }\r\n  }\r\n\r\n  return index\r\n}\r\n\r\nexport const replacePoint = (state, action) => {\r\n\r\n  let points = [\r\n    ...state.slice(0, action.oldIndex),\r\n    ...state.slice(action.oldIndex + 1)\r\n  ];\r\n\r\n  points = [\r\n    ...points.slice(0, action.newIndex),\r\n    state[action.oldIndex],\r\n    ...points.slice(action.newIndex)\r\n  ]\r\n\r\n  return points;\r\n\r\n}\r\n\r\nexport const changePoint = (state, action) => {\r\n\r\n  const index = getIndexById(action.id, state);\r\n\r\n  let point = { ...state[index] };\r\n\r\n  point.coordinates = action.coordinates || point.coordinates;\r\n  point.name = action.name || point.name;\r\n  point.address = action.address || ( action.address === '' ? '' : point.address );\r\n\r\n  return [\r\n    ...state.slice(0, index),\r\n    point,\r\n    ...state.slice(index + 1)\r\n  ]\r\n}\r\n\r\nexport default points;","import { combineReducers } from 'redux';\r\nimport points from './points';\r\nimport center from './center';\r\n\r\nconst allReducers = {\r\n    points,\r\n    center\r\n}\r\n\r\nconst rootReducer = combineReducers(allReducers);\r\n\r\nexport default rootReducer;","import { CHANGE_CENTER } from \"../actionTypes\";\r\n\r\nconst center = (state = [55.75, 37.57], action) => {\r\n  switch (action.type) {\r\n\r\n    case CHANGE_CENTER:\r\n      return [\r\n      \t...action.coordinates\r\n      ]\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\nexport default center","import { createStore } from \"redux\"\r\nimport rootReducer from './redux/reducers'\r\n\r\nconst store = createStore(rootReducer);\r\n\r\nexport default store;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './component/App';\nimport { Provider } from 'react-redux';\nimport store from './store.js';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}